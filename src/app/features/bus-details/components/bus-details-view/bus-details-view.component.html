<header style="width: 100vw;" >
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators" style="position:absolute;z-index: 1;">
      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img class="d-block w-100" src="../../../../../assets/ootyslide.avif" alt="First slide">
        <div style=" position: absolute; z-index: 0;" class="carousel-caption d-none d-md-block">
          <h2>Ooty</h2>
          <p>Book Tickets to Ooty and get Rs 300 cashback!</p>
        </div>
      </div>

      <div class="carousel-item">
        <img class="d-block w-100" src="../../../../../assets/snow.jpg" alt="Third slide">
        <div style=" position: absolute; z-index: 0;" class="carousel-caption d-none d-md-block">
          <h2>Munnar</h2>
          <p>Book Tickets to Munnar and get Free one day accomodation</p>
        </div>
      </div>
      <div class="carousel-item">
        <img class="d-block w-100" src="../../../../../assets/waterflow.jpg" alt="Third slide">
        <div style=" position: absolute; z-index: 0;" class="carousel-caption d-none d-md-block">
          <h2>Ladakh</h2>
          <p>The Land Of High Passes experience the adventure!</p>
        </div>
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</header>
<!-- <div style="display: flex; margin-left: 15%;"> -->
  <div style="display: flex;">

<div class="grid" style="width:   100%;">
  


  <div class="row">
    <div class=" card col col-md-2 col-12 flitersStyle  " >
      <h5 class="p-2">Filters  </h5>
      <button *ngIf="!canShowFilters" class="btn btn-sm ml-2  btn-outline-dark" (click)="toggleShowFilter()">View-Filters</button>
      <button *ngIf="canShowFilters" class="btn btn-sm ml-2  btn-outline-dark" (click)="toggleShowFilter()">Hide-Filters</button>
      <hr>
      <div class="p-2" *ngIf="canShowFilters">


      <p  class="ml-2" style="font-weight: bold;">SeatType :</p>
     
        <select  class="form-control ml-2" #ref1 name="SeatType" (click)="filter(ref.value,ref1.value,ref3.value)">
          <option value="seater" (click)="filter(ref.value,ref1.value,ref3.value)">seater</option>
          <option value="sleeper"(click)="filter(ref.value,ref1.value,ref3.value)">sleeper</option>
          <option value="semi-sleeper"(click)="filter(ref.value,ref1.value,ref3.value)">semi-sleeper</option>
          <option value="All" selected (click)="filter(ref.value,ref1.value,ref3.value)">All</option>
        </select>
      <br>
      <p  class="ml-2" style="font-weight: bold;">BusType :</p>
        <select  class="form-control ml-2 " #ref name="BusType" (click)="filter(ref.value,ref1.value,ref3.value)">
          <option value="AC"(click)="filter(ref.value,ref1.value,ref3.value)" >AC</option>
          <option value="Non-AC" (click)="filter(ref.value,ref1.value,ref3.value)">Non-AC</option>
          <option value="All" selected (click)="filter(ref.value,ref1.value,ref3.value)" >All</option>
        </select>
      <br>
      <p  class="ml-2" style="font-weight: bold;">TicketCost :</p>
        <select  class="form-control ml-2" #ref3 name="Cost" (click)="filterByPrice(ref.value,ref1.value,ref3.value)">
          <option value="Low-to-High">Low-to-High</option>
          <option value="High-to-Low">High-to-Low</option>
        </select>
        <br>
    </div>
  </div>

    <div class=" col col-10 busDetailsRoot" style="height: 100vh;">


      <main>
        <div class="row">
          <div class="col col-12">
            <div *ngIf="loading&&busDetails.length==0 ">
              <app-loader></app-loader>
            </div>
          </div>
        </div>
        <div class="row d-flex align-items-center" *ngIf="!loading && busDetails.length==0" style="padding:10px">
          <div class="card d-flex align-items-center p-2 ml-2 mr-2" style="font-weight: bold; width: 100%;">
            No Buses Found :(
          </div>
        </div>



        <div class="grid p-10">

          <div *ngIf="busDetails" class="row ">
            <div class="col-12">
              <div *ngFor="let bus of busDetails" class="container details">

                <div class="row">
                  <div class="col col-6 col-sm-4 col-md-2 mt-4 ">

                    <code>Bus Operator Name</code>
                    <p style="font-weight: bold;">{{bus.busName |uppercase}} TRAVELS</p>
                    <span style="color:green;font-size: 12  px">{{bus.busType|uppercase
                      }}-{{bus.busSeats[0].seatType}}</span>
                  </div>
                  <div class="col col-6 col-sm-4 col-md-2 mt-4 ">
                    <code>Departure</code>
                    <p style="font-weight: bold;">{{bus.departureTime}}</p>
                  </div>
                  <div class="col col-6 col-sm-4 col-md-2 mt-4 ">
                    <code>Total Duration</code>
                    <p style="font-weight: bold;">{{calculateDifference(bus.arrivalTime,bus.departureTime)}}</p>
                  </div>
                  <div class="col col-6 col-sm-4 col-md-2 mt-4 ">
                    <code>Arrival</code>
                    <p style="font-weight: bold;">{{bus.arrivalTime}}</p>
                  </div>
                  <div class="col col-6 col-sm-4 col-md-2 mt-4 ">
                    <code>Price</code>
                    <p style="font-weight: bold;">Rs : {{bus.price}}/-</p>
                  </div>
                  <div class="col col-6  col-sm-4 col-md-2 mt-4 ">
                    <code>Select Seats</code>
                    <button type="button" *ngIf="!canShowSeat(bus.id)" (click)="toggleShowSeats(bus.id)" style="text-align: center;"
                      class="btn btn-outline-dark btn-sm p-1">View Seats</button>
                    <button type="button" *ngIf="canShowSeat(bus.id)" (click)="toggleShowSeats(bus.id)" style="text-align: center;"
                      class="btn btn-outline-dark btn-sm p-1">Hide Seats</button>
                    <br>
                    <small style="color: gray;">{{bus.seatsAvailable}} seats left</small>
                  </div>
                </div>


                <hr>
                <div class="stationLayout">
                  <div style="font-weight: bold;">Stations :</div>
                  <div class="station" *ngFor="let station of bus.stations">
                    <div class="grid">
                      <div class="row">
                        <div class="col-2">
                          {{station.stationname}}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <hr *ngIf="canShowSeat(bus.id)">
                <app-seat-detail-view *ngIf="canShowSeat(bus.id)" (newSeatEvent)="bookTicket($event)" [busId]="bus.id"
                  [Seats]="bus.busSeats" [busDetails]="bus"></app-seat-detail-view>

              </div>
            </div>
          </div>


        </div>



      </main>
    </div>



  </div>
</div>

</div>